op_code = {
    "add": "00000",  "addi": "01100",  "Sub": "00000",  "subi": "01101",  "mult": "00000",
    "multi": "01110",  "div": "00000",  "divi": "01111",  "and": "00000",  "andi": "01001",
    "or": "00000",  "ori": "01010",  "xor": "00000",  "bgt": "10000",  "slt": "10001",
    "lw": "10010",  "sw": "10011",  "beq": "10100",  "bne": "10101",  "jr": "10110",  "j": "10111"
}
reg = {
    "zero": "00000", "$t0": "00001", "$t1": "00010", "$t2": "00011",
    "$t3": "00100", "$t4": "00101", "$t5": "00110", "$t6": "00111",
    "$t7": "01000", "$t8": "01001", "$t9": "01010", "$t10": "01011",
    "$t11": "01100", "$t12": "01101",  "$t13": "01110", "$t14": "01111",
    "$s0": "10000", "$s1": "10001", "$s2": "10010", "$s3": "10011",
    "$s4": "10100", "$s5": "10101", "$s6": "10110", "$s7": "10111",
    "$s8": "11000", "$s9": "11001", "$s10": "11010", "$s11": "11011",
    "$s12": "11100", "$s13": "11101", "$s14": "11110", "ra": "11111"
}
R_type = ["add", "sub", "div", "mult", "and", "or", "xor"]

f = open("assembly.txt", "r")
g = open("instruction", "w")

for str in f:
    ins = str.split()

    ans = ""
    if ins[0] in R_type:
        ans = op_code[ins[0]] + reg[ins[1]] + \
            reg[ins[2]] + reg[ins[3]] + "00000"

    elif ins[0] == "j":
        ans = op_code[ins[0]] + "00000" + bin(int(ins[1]))[2:].zfill(15)

    else:
        ans = op_code[ins[0]] + reg[ins[1]] + \
            reg[ins[2]] + bin(int(ins[3]))[2:].zfill(10)

    g.write(hex(int(ans, 2))[2:].zfill(7))
    g.write("\n")

f.close
g.close
